# 数显管

## 类：DigitalTube

| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
| 1 | element | `null` `undefined` `object SVGSVGElement` `object HTMLSVGElement` | 用于七段数码管显示的SVG元素 | 否 | `undefined` / `null` |
| 2 | data | `number` | [显示数据](#介绍显示数据)，0~255的整数，实际是一个8位二进制数值，可以初始化显示内容 | 否 | 0 |

### 方法列表

| 序号 | 方法名 | 参数 | 描述 |
|:-----:|:-----:|:-----:|:-----|
| 1 | setData | data | （重新）设置显示数据。 |
| 2 | setNum | num, point | `setData`的额外封装方法。如果只需要显示数字（而不是自定义内容）则可以使用该方法，更加方便快捷。 |
| 3 | setHeight | height | 设置SVG显示高度。 |
| 4 | setColor | color, elementNumber | 设置数码管颜色，可以选择设置背景、显示或不显示的颜色。 |
| 5 | getElement | 无 | 获取数码管的元素引用。 |

### 方法详细描述

1. 方法：setData

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | data | `number` | 显示数据，0~255的整数，实际是一个8位二进制数值 | 是 | **不填写则抛出`TypeError`错误<br />超出范围则抛出`RangeError`错误** |

2. 方法：setNum

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | num | `number` | 需要显示的数字，0~9的整数 | 是 | **不填写则抛出`TypeError`错误<br />超出范围则抛出`RangeError`错误** |
	| 2 | point | `boolean` | 是否需要显示小数点 | 否 | `false` |

3. 方法：setHeight

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | height | `string` `number` | 更改的目标高度，如果是数值，则认为是以`px`为单位的高度；否则需要带上等同于CSS中的长度单位，这样则为字符串 | 是 | **不填写则抛出`TypeError`错误** |

4. 方法：setColor

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | color | `string` | 要设置的颜色，使用CSS支持的颜色格式 | 是 | **不填写则抛出`TypeError`错误** |
	| 2 | elementNumber | `number` | 要更改颜色的元素编号：0（前景）、1（背景）、2（矩形背景） | 否 | 0 |

5. 方法：getElement

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| - | 无 | - | 获取数码管的SVG元素引用 | - | - |

### 介绍：显示数据

![介绍图片](https://cdn.jsdelivr.net/gh/cnbilinyj/picx-images-hosting@master/gist/855b978596641deaf61c27d714151465/0000.png)

如图所示，靠上的灯编码为0，按顺时针顺序接下来是1、2、3、4、5；接着是中间的灯，编码为6；最后是小数点，编码为7。

依照 **二进制从右（为0）到左（为7）** 的顺序，按照0代表熄灭，1代表亮起的规则，进行显示数据的编写。

比如需要显示1，则需要让1号、2号亮起。此时二进制的显示数据应当是`0b00000110`，可以使用16进制表达为`0x06`；显示2则使用`0b01011011`，可以使用16进制表达为`0x5b`，想要同时显示小数点只需要将第1位二进制值（从右往左最后一个）更改为1即可，或者直接将显示数字的基本显示数据数值增加128即可。

---

## 类：DigitalTubes

| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
| 1 | element | `undefined` `string` `object HTMLDivElement` | 包含多个数码管的DIV元素 | 否 | `undefined` |
| 2 | datas | `array` `number` | 数码管对象数组，或者定义数码管数量的非负整数 | 否 | 0 |

### 方法列表

| 序号 | 方法名 | 参数 | 描述 |
|:-----:|:-----:|:-----:|:-----|
| 1 | addTube | tubeClass | 添加一个数码管。 |
| 2 | removeTube | index | 移除指定索引的数码管。 |
| 3 | setDatas | datas | 设置所有数码管的显示数据。 |
| 4 | setData | index, data | 设置指定数码管的显示数据。 |
| 5 | setNums | nums | 设置所有数码管的显示数字。 |
| 6 | setNum | index, num | 设置指定数码管的显示数字。 |
| 7 | setHeights | heights | 设置所有数码管的高度。 |
| 8 | setHeight | index, height | 设置指定数码管的高度。 |
| 9 | setColors | colors | 设置所有数码管的颜色。 |
| 10 | setColor | index, color | 设置指定数码管的颜色。 |
| 11 | getDatas | 无 | 获取所有数码管的显示数据。 |
| 12 | getData | index | 获取指定数码管的显示数据。 |
| 13 | getTubes | 无 | 获取所有数码管对象。 |
| 14 | getElement | 无 | 获取数码管组的DIV容器元素引用。 |

### 方法详细描述

1. 方法：addTube

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | tubeClass | `DigitalTube` | 要添加的数码管对象 | 是 | **不填写则抛出`TypeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

2. 方法：removeTube

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | index | `number` | 要移除的数码管的索引 | 是 | **不填写或超出范围则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`array`

	| 下标 | 类型 | 描述 |
	|:-----:|:-----:|:-----|
	| 0 | `DigitalTubes` | 类自身 |
	| 1 | `DigitalTube` | 被移除的数码管类（`DigitalTube`类） |

3. 方法：setDatas

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | datas | `array` | 包含每个数码管的显示数据的数组 | 是 | **不填写则抛出`TypeError`错误<br />长度不匹配则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

4. 方法：setData

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | index | `number` | 数码管的索引 | 是 |
	| 2 | data | `number` | 显示数据，0~255的整数 | 是 | **不填写则抛出`TypeError`错误<br />超出范围则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

5. 方法：setNums

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | nums | `array` | 包含每个数码管显示数字的数组，数组元素为0~9的整数 | 是 | **不填写则抛出`TypeError`错误<br />长度不匹配则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

6. 方法：setNum

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | index | `number` | 数码管的索引 | 是 | **不填写或超出范围则抛出`RangeError`错误** |
	| 2 | num | `number` | 要显示的数字，0~9的整数 | 是 | **不填写则抛出`TypeError`错误<br />超出范围则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

7. 方法：setHeights

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | heights | `array` | 包含每个数码管高度的数组，数组元素为`string`或`number`类型 | 是 | **不填写则抛出`TypeError`错误<br />长度不匹配则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

8. 方法：setHeight

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | index | `number` | 数码管的索引 | 是 | **不填写或超出范围则抛出`RangeError`错误** |
	| 2 | height | `string` `number` | 更改的目标高度 | 是 | **不填写则抛出`TypeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

9. 方法：setColors

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | colors | `array` | 包含每个数码管颜色的数组，数组元素为`string`类型 | 是 | **不填写则抛出`TypeError`错误<br />长度不匹配则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

10. 方法：setColor

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | index | `number` | 数码管的索引 | 是 | **不填写或超出范围则抛出`RangeError`错误** |
	| 2 | color | `string` | 要设置的颜色 | 是 | **不填写则抛出`TypeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

11. 方法：getDatas

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

12. 方法：getData

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|
	| 1 | index | `number` | 数码管的索引 | 是 | **不填写或超出范围则抛出`RangeError`错误** |

	**_返回值_**：

	类型：`DigitalTubes`

	类自身

13. 方法：getTubes

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|

	**_返回值_**：

	类型：`array`

	组成`DigitalTubes`类的所有`DigitalTube`类

	| 下标 | 类型 | 描述 |
	|:-----:|:-----:|:-----|
	| 0.. | `DigitalTube` | 组成`DigitalTubes`类的所有`DigitalTube`类 |

14. 方法：getElement

	**_参数_**：

	| 序号 | 参数名 | 类型 | 描述 | 是否必须 | 默认/等效值/必填留空报错 |
	|:-----:|:-----:|:-----|:-----|:-----:|:-----:|

	**_返回值_**：

	类型：`HTMLDIVElelement`

	描述：数码管组的DIV容器元素引用

# 开发者信息

作者：农药君

CSDN：农药君：[https://blog.csdn.net/qq_69128903](https://blog.csdn.net/qq_69128903)

WebCat：bilinyj(14739)：[http://space.webcat.top/page/my_source.html?uid=14739](http://space.webcat.top/page/my_source.html?uid=14739)

GitHub：cnbilinyj：[https://www.github.com/cnbilinyj](https://www.github.com/cnbilinyj)

代码链接：[https://github.com/cnbilinyj/UI-js/blob/main/digital-tube/digital-tube.js](https://github.com/cnbilinyj/UI-js/blob/main/digital-tube/digital-tube.js)
